name: Release
on:
  push:
    branches:
      - "main"
  workflow_dispatch:
    inputs:
      environment:
        description: "Define env name"
        required: true
        default: "prod"
      branch:
        description: "Define branch name"
        required: true
        default: "master"

jobs:
  build:
    name: Build
    runs-on: ubuntu-latest

    steps:
      - name: executing remote ssh commands
        uses: appleboy/ssh-action@master
        with:
          host: 46.101.148.197
          username: root
          key: ${{ secrets.REMOTE_SECRET }}
          script_stop: true
          script: |
            cd apps/Qbatch
            pwd
            whoami
